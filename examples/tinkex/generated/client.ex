defmodule Tinkex.Client do
  @moduledoc """
  Generated API client for Tinkex v1.0.0.

  This module was generated by Pristine from a manifest definition.
  """

  alias Pristine.Core.Context

  defstruct [:context]

  @type t :: %__MODULE__{context: Context.t()}

  @manifest %{
    name: "Tinkex",
    version: "1.0.0",
    types: %{
      "ApiError" => %{
        fields: %{
          "message" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "type" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "AsyncSampleResponse" => %{
        fields: %{
          "id" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Sample ID to poll",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "poll_url" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "status" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: ["pending", "processing", "completed", "failed"],
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "ContentBlock" => %{
        fields: %{
          "id" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Tool use ID (for tool_use blocks)",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "input" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Tool input (for tool_use blocks)",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "name" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Tool name (for tool_use blocks)",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "text" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Text content (for text blocks)",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "type" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: ["text", "tool_use"],
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "Model" => %{
        fields: %{
          "capabilities" => %{
            alias: nil,
            default: nil,
            type: "array",
            format: nil,
            description: "List of model capabilities",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "context_length" => %{
            alias: nil,
            default: nil,
            type: "integer",
            format: nil,
            description: "Maximum context length in tokens",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "created_at" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "When the model was created",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "description" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Model description",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "id" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Unique model identifier",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "name" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Human-readable model name",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "ModelList" => %{
        fields: %{
          "data" => %{
            alias: nil,
            default: nil,
            type: "array",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "has_more" => %{
            alias: nil,
            default: nil,
            type: "boolean",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "next_cursor" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "SampleRequest" => %{
        fields: %{
          "max_tokens" => %{
            alias: nil,
            default: 1024,
            type: "integer",
            format: nil,
            description: "Maximum tokens to generate",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "metadata" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Custom metadata to attach",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "model" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Model ID to use",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "prompt" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Input prompt",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "stop_sequences" => %{
            alias: nil,
            default: nil,
            type: "array",
            format: nil,
            description: "Sequences that stop generation",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "stream" => %{
            alias: nil,
            default: false,
            type: "boolean",
            format: nil,
            description: "Whether to stream the response",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "temperature" => %{
            alias: nil,
            default: 1.0,
            type: "number",
            format: nil,
            description: "Sampling temperature",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "top_p" => %{
            alias: nil,
            default: nil,
            type: "number",
            format: nil,
            description: "Nucleus sampling parameter",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "SampleResult" => %{
        fields: %{
          "content" => %{
            alias: nil,
            default: nil,
            type: "array",
            format: nil,
            description: "Generated content blocks",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "created_at" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "id" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Unique sample ID",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "model" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Model used",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "stop_reason" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: "Why generation stopped",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: ["end_turn", "max_tokens", "stop_sequence", "tool_use"],
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "usage" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Token usage information",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "SampleStreamEvent" => %{
        fields: %{
          "content_block" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Content block data",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "delta" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Delta update",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "error" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Error details",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "index" => %{
            alias: nil,
            default: nil,
            type: "integer",
            format: nil,
            description: "Content block index",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "message" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Partial message (for message_start)",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "type" => %{
            alias: nil,
            default: nil,
            type: "string",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: [
              "message_start",
              "content_block_start",
              "content_block_delta",
              "content_block_stop",
              "message_delta",
              "message_stop",
              "ping",
              "error"
            ],
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "usage" => %{
            alias: nil,
            default: nil,
            type: "object",
            format: nil,
            description: "Usage information",
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: false,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      },
      "Usage" => %{
        fields: %{
          "input_tokens" => %{
            alias: nil,
            default: nil,
            type: "integer",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          },
          "output_tokens" => %{
            alias: nil,
            default: nil,
            type: "integer",
            format: nil,
            description: nil,
            gt: nil,
            gteq: nil,
            lt: nil,
            lteq: nil,
            max_length: nil,
            required: true,
            optional: false,
            choices: nil,
            omit_if: nil,
            min_length: nil,
            min_items: nil,
            max_items: nil
          }
        }
      }
    },
    endpoints: [
      %{
        id: "create_sample",
        request: "SampleRequest",
        path: "/samples",
        auth: nil,
        description: "Create a new sample from a model",
        retry: nil,
        response: "SampleResult",
        resource: "sampling",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "POST",
        idempotency: true,
        streaming: false,
        body_type: nil,
        rate_limit: nil
      },
      %{
        id: "create_sample_async",
        request: "SampleRequest",
        path: "/samples/async",
        auth: nil,
        description: "Create a sample asynchronously, returns a future",
        retry: nil,
        response: "AsyncSampleResponse",
        resource: "sampling",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "POST",
        idempotency: false,
        streaming: false,
        body_type: nil,
        rate_limit: nil
      },
      %{
        id: "create_sample_stream",
        request: "SampleRequest",
        path: "/samples",
        auth: nil,
        description: "Create a streaming sample from a model",
        retry: nil,
        response: "SampleStreamEvent",
        resource: "sampling",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "POST",
        idempotency: false,
        streaming: true,
        body_type: nil,
        rate_limit: nil
      },
      %{
        id: "get_model",
        request: nil,
        path: "/models/{model_id}",
        auth: nil,
        description: "Get details for a specific model",
        retry: nil,
        response: "Model",
        resource: "models",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "GET",
        idempotency: false,
        streaming: false,
        body_type: nil,
        rate_limit: nil
      },
      %{
        id: "get_sample",
        request: nil,
        path: "/samples/{sample_id}",
        auth: nil,
        description: "Get a sample result by ID",
        retry: nil,
        response: "SampleResult",
        resource: "sampling",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "GET",
        idempotency: false,
        streaming: false,
        body_type: nil,
        rate_limit: nil
      },
      %{
        id: "list_models",
        request: nil,
        path: "/models",
        auth: nil,
        description: "List all available models",
        retry: nil,
        response: "ModelList",
        resource: "models",
        telemetry: nil,
        query: %{},
        headers: %{},
        circuit_breaker: nil,
        content_type: nil,
        method: "GET",
        idempotency: false,
        streaming: false,
        body_type: nil,
        rate_limit: nil
      }
    ],
    policies: %{
      "default" => %{
        "backoff" => "exponential",
        "base_delay_ms" => 1000,
        "max_attempts" => 3,
        "max_delay_ms" => 30000
      }
    }
  }

  @doc "Returns the manifest used to generate this client."
  @spec manifest() :: map()
  def manifest, do: @manifest

  @doc """
  Create a new client instance.

  ## Options

    * `:base_url` - Override the default base URL
    * `:headers` - Additional headers to include
    * `:auth` - Authentication configuration
    * `:transport` - Transport adapter module
    * `:timeout` - Request timeout in milliseconds

  """
  @spec new(keyword()) :: t()
  def new(opts \\ []) do
    %__MODULE__{context: Context.new(opts)}
  end

  @doc "Access sampling resource endpoints."
  @spec sampling(t()) :: Tinkex.Sampling.t()
  def sampling(%__MODULE__{} = client) do
    Tinkex.Sampling.with_client(client)
  end

  @doc "Access models resource endpoints."
  @spec models(t()) :: Tinkex.Models.t()
  def models(%__MODULE__{} = client) do
    Tinkex.Models.with_client(client)
  end

  @doc "Execute an endpoint by ID."
  @spec execute(atom() | String.t(), map(), Pristine.Core.Context.t(), keyword()) ::
          {:ok, term()} | {:error, term()}
  def execute(endpoint_id, payload, context, opts \\ []) do
    Pristine.Runtime.execute(@manifest, endpoint_id, payload, context, opts)
  end
end
